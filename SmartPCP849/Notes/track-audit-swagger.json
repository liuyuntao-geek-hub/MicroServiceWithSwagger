swagger: '2.0'
info:
  description: Log and retrieve PCP Selection tracking data
  version: 1.0.0
  title: Smart PCP Track Audit Microservice
host: 'localhost:8080'
basePath: /v1/spcp/members/pcp
tags:
  - name: pcp-score-audit-controller
    description: PCP Score Audit Controller
paths:
  /track-audit/getPCPAssignmentDataAsJson:
    post:
      tags:
        - pcp-score-audit-controller
      summary: Get PCP Score data in json format
      operationId: getPCPAssignmentDataAsJsonUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: pcpAssignmentInfoPayload
          description: PCP Assignment Data
          required: true
          schema:
            $ref: '#/definitions/PcpAssignmentInfoPayload'
      responses:
        '200':
          description: SUCCESS
          schema:
            type: string
        '600':
          description: OTHER_EXCEPTIONS
          schema:
            type: string
  /track-audit/getPCPScoreDataAsJson:
    get:
      tags:
        - pcp-score-audit-controller
      summary: Get PCP Score data in json format
      operationId: getPCPScoreDataAsJsonUsingGET
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: traceId
          in: query
          required: true
          type: string
      responses:
        '200':
          description: SUCCESS
          schema:
            type: string
        '600':
          description: OTHER_EXCEPTIONS
          schema:
            type: string
  /track-audit/getPCPScoreDataAsXLSX:
    get:
      tags:
        - pcp-score-audit-controller
      summary: Get PCP Score data in XLSX format
      operationId: getPCPScoreDataAsXLSXUsingGET
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - name: traceId
          in: query
          required: true
          type: string
      responses:
        '200':
          description: SUCCESS
          schema:
            type: string
        '600':
          description: OTHER_EXCEPTIONS
          schema:
            type: string
  /track-audit/savePCPScoreData:
    post:
      tags:
        - pcp-score-audit-controller
      summary: Save PCP Score data
      operationId: savePCPScoreDataUsingPOST
      consumes:
        - application/json
      produces:
        - '*/*'
      parameters:
        - in: body
          name: pcpScoreVerifyPayload
          description: PCP Verification Data
          required: true
          schema:
            $ref: '#/definitions/PCPScoringDataPayload'
      responses:
        '200':
          description: SUCCESS
          schema:
            $ref: '#/definitions/ResponsePayload'
        '600':
          description: OTHER_EXCEPTIONS
          schema:
            $ref: '#/definitions/ResponsePayload'
definitions:
  JsonNode:
    type: object
    properties:
      array:
        type: boolean
      bigDecimal:
        type: boolean
      bigInteger:
        type: boolean
      binary:
        type: boolean
      boolean:
        type: boolean
      containerNode:
        type: boolean
      double:
        type: boolean
      float:
        type: boolean
      floatingPointNumber:
        type: boolean
      int:
        type: boolean
      integralNumber:
        type: boolean
      long:
        type: boolean
      missingNode:
        type: boolean
      nodeType:
        type: string
        enum:
          - ARRAY
          - BINARY
          - BOOLEAN
          - MISSING
          - 'NULL'
          - NUMBER
          - OBJECT
          - POJO
          - STRING
      'null':
        type: boolean
      number:
        type: boolean
      object:
        type: boolean
      pojo:
        type: boolean
      short:
        type: boolean
      textual:
        type: boolean
      valueNode:
        type: boolean
  PCPScoringDataPayload:
    type: object
    required:
      - providerData
      - traceId
    properties:
      providerData:
        type: string
        description: providerData contains the PCP scoring data in JSON format
      traceId:
        type: string
        description: 'traceId is the transaction tracking id generated from spcp-select, must have a length between 16-25 characters and regexp = [0-9]*'
    description: Contains request information received by spcp-mdo-scoring microservice to persist PCP scoring details
  PcpAssignmentInfoPayload:
    type: object
    required:
      - memberDob
      - pcpAssignmentDate
    properties:
      memberDob:
        type: string
        description: Contains date of birth of the member in format YYYY-MM-dd
      pcpAssignmentDate:
        type: string
        description: Contains pcp assignment date for the member in format YYYY-MM-dd
    description: Contains request information required to fetch PCP assignment details
  ResponsePayload:
    type: object
    required:
      - responseCode
      - responseMessage
    properties:
      responseCode:
        type: integer
        format: int32
        description: Response code for the consumer
      responseMessage:
        type: string
        description: Response message for the consumer
    description: Common response payload
